# PRD: COFEPLUS 网站功能基线（现状版）

## 1. Introduction / Overview

本 PRD 用于沉淀 `cofeplus` 当前网站的**功能基线**，服务对象为研发团队（前后端为主）。  
文档目标是把已上线页面的功能、业务规则、异常处理和输入输出定义清楚，作为后续迭代、测试回归、发布验收的统一依据。

本版本范围仅覆盖现有页面与现有能力，不新增功能。

---

## 2. Goals

- 明确当前站点各模块“已实现功能”边界，避免口径不一致。
- 为研发与测试提供可执行的功能清单和验收依据。
- 降低后续改版导致的回归风险，形成统一基准版本。
- 为后续迭代 PRD、测试用例、发布清单提供输入。

---

## 3. User Stories

### US-001: 运营人员查看经营总览
**Description:** 作为运营人员，我希望进入总览页后查看核心经营数据，以便快速判断当日经营状态。

**Acceptance Criteria:**
- [ ] 可通过 `menu.html?tab=overview` 进入总览视图。
- [ ] 总览页面展示销售与产品结构相关信息区域。
- [ ] 总览页与菜单管理页签切换可用。
- [ ] 页面无明显空白崩溃或脚本报错。
- [ ] **Verify in browser using dev-browser skill**

### US-002: 运营人员管理菜单分类和商品
**Description:** 作为运营人员，我希望维护菜单分类与商品信息，以便反映当前售卖内容。

**Acceptance Criteria:**
- [ ] 菜单管理页可新增分类、新增商品。
- [ ] 商品支持编辑价格、状态、推荐等属性。
- [ ] 商品详情页可保存修改并返回业务页面继续查看。
- [ ] 页面无明显空白崩溃或脚本报错。
- [ ] **Verify in browser using dev-browser skill**

### US-003: 运维人员查询设备并筛选状态
**Description:** 作为运维人员，我希望通过搜索和筛选快速定位设备，以便执行运维操作。

**Acceptance Criteria:**
- [ ] 设备页支持按设备编号搜索。
- [ ] 支持“全部/运行中/故障中”等状态筛选。
- [ ] 列表和分页在筛选后正常更新。
- [ ] 页面无明显空白崩溃或脚本报错。
- [ ] **Verify in browser using dev-browser skill**

### US-004: 运维人员切换设备售卖状态
**Description:** 作为运维人员，我希望对设备进行停售/开售切换，以便控制设备销售行为。

**Acceptance Criteria:**
- [ ] 设备列表项具备售卖状态切换入口。
- [ ] 切换后状态展示即时更新。
- [ ] 支持查看设备详情信息。
- [ ] 页面无明显空白崩溃或脚本报错。
- [ ] **Verify in browser using dev-browser skill**

### US-005: 值班人员查看故障设备分组
**Description:** 作为值班人员，我希望按正常/缺料/故障分组查看设备，以便快速排障。

**Acceptance Criteria:**
- [ ] 故障页支持按 Tab 切换分组。
- [ ] 支持搜索设备编号或点位名称。
- [ ] 设备卡片信息与分组状态可见。
- [ ] 页面无明显空白崩溃或脚本报错。
- [ ] **Verify in browser using dev-browser skill**

### US-006: 补料人员查看物料余量并执行补料
**Description:** 作为补料人员，我希望查看料仓余量并执行补料，以便避免缺料停机。

**Acceptance Criteria:**
- [ ] 物料页可按设备查看物料卡片与余量状态。
- [ ] 支持进入补料页面/补料弹窗执行数量操作。
- [ ] 补料后库存展示更新。
- [ ] 页面无明显空白崩溃或脚本报错。
- [ ] **Verify in browser using dev-browser skill**

### US-007: 运营人员查看发货清单
**Description:** 作为运营人员，我希望查看发货清单页面，以便安排补给执行。

**Acceptance Criteria:**
- [ ] 物料页可跳转发货清单页。
- [ ] 发货清单页具备筛选与列表展示能力。
- [ ] 页面无明显空白崩溃或脚本报错。
- [ ] **Verify in browser using dev-browser skill**

### US-008: 客服人员查询订单并执行售后
**Description:** 作为客服人员，我希望在订单页筛选订单并执行退款/返券，以便处理售后问题。

**Acceptance Criteria:**
- [ ] 订单页支持订单号、设备、状态、时间范围筛选。
- [ ] 订单页支持退款与返券操作入口。
- [ ] 订单详情入口可用。
- [ ] 页面无明显空白崩溃或脚本报错。
- [ ] **Verify in browser using dev-browser skill**

### US-009: 基础数据管理员维护客户信息
**Description:** 作为基础数据管理员，我希望维护客户档案，以保证客户主数据准确。

**Acceptance Criteria:**
- [ ] 客户页支持新增、编辑、删除、搜索。
- [ ] 客户统计卡片可正常展示。
- [ ] 页面无明显空白崩溃或脚本报错。
- [ ] **Verify in browser using dev-browser skill**

### US-010: 基础数据管理员维护点位信息
**Description:** 作为基础数据管理员，我希望维护点位档案，以支撑设备投放管理。

**Acceptance Criteria:**
- [ ] 点位页支持新增、编辑、删除、搜索。
- [ ] 点位列表与统计信息可见。
- [ ] 页面无明显空白崩溃或脚本报错。
- [ ] **Verify in browser using dev-browser skill**

### US-011: 管理员使用统一导航与语言入口
**Description:** 作为管理员，我希望所有页面具备一致导航与顶部语言入口，以便减少学习成本。

**Acceptance Criteria:**
- [ ] 左侧导航在核心页面一致可用。
- [ ] 顶部存在平台语言选择入口（当前样式统一）。
- [ ] “只读”入口在有配置页面可见。
- [ ] **Verify in browser using dev-browser skill**

---

## 4. Functional Requirements

- FR-1: 系统必须提供总览与菜单管理双视图，并支持页签切换。
- FR-2: 系统必须提供设备列表检索能力（关键字搜索 + 状态筛选 + 分页）。
- FR-3: 系统必须支持设备售卖状态切换，并更新列表展示状态。
- FR-4: 系统必须提供故障速览页，支持按“正常/缺料/故障”分组展示。
- FR-5: 系统必须在故障页支持按设备编号或点位名称搜索。
- FR-6: 系统必须提供物料余量看板，并展示预警状态信息。
- FR-7: 系统必须支持补料操作（选择物料、填写数量、提交）。
- FR-8: 系统必须提供发货清单页面并支持基础筛选查看。
- FR-9: 系统必须提供订单筛选（订单号、设备、状态、时间范围）。
- FR-10: 系统必须提供订单售后入口（退款、返券）及详情入口。
- FR-11: 系统必须提供客户管理的增删改查能力。
- FR-12: 系统必须提供点位管理的增删改查能力。
- FR-13: 系统必须提供商品详情编辑能力（多语言名称/描述、价格、状态等）。
- FR-14: 系统必须在移动端支持页面自适应，避免关键操作控件错位不可点。
- FR-15: 页面关键操作完成后必须反馈结果（如 toast 或状态变更）。

---

## 5. Non-Goals (Out of Scope)

- 不新增权限系统后端（仅记录当前前端可见“只读”等入口状态）。
- 不新增支付、优惠券、ERP、IoT 实时推送等外部系统深度集成。
- 不新增 BI 报表中心与自定义报表设计器。
- 不新增多租户隔离、审计中心等企业版能力。
- 不进行视觉重构，仅记录现有交互与样式基线。

---

## 6. Design Considerations

- 采用当前已实现的左侧导航 + 顶部操作栏布局体系。
- 移动端优先保证：
  - 搜索框、筛选器、核心操作按钮可见可点。
  - 列表卡片不出现水平滚动。
- 菜单管理、设备管理、订单管理等核心页面保持统一视觉语言（按钮、输入框、状态标签）。

---

## 7. Technical Considerations

- 当前站点为静态 HTML/CSS/JS 结构，页面间通过超链接跳转。
- 页面数据包含本地 mock 数据与 `localStorage` 读写逻辑（如设备、客户、点位等）。
- 部署目标包含 Cloudflare Pages，根路径依赖 `index.html` 跳转。
- 回归时需重点验证：
  - 桌面与移动端断点样式（`@media`）
  - 页面脚本无运行时报错
  - 跨页面导航路径不失效

---

## 8. Success Metrics

按本次确认，成功指标暂不单列量化 KPI；验收以“功能基线一致 + 页面可用性通过”作为完成标准。

---

## 9. Open Questions

- 平台语言切换是否仅影响界面文案，还是需要联动业务数据语言字段？
- “只读”按钮在当前版本是否仅为展示，是否需要真实权限拦截？
- 订单退款/返券在后续是否需要接入真实交易系统并补充幂等与审计机制？
- 物料预警阈值后续是否改为按设备可配置而非固定值？

